[
  {
    "objectID": "simulationanalysis.html",
    "href": "simulationanalysis.html",
    "title": "Gender Stereotypes in Early Development",
    "section": "",
    "text": "In this analysis, I will conduct a permutation test to attempt to answer the research question: Are young females less likely than young males to identify adults of their own gender as smart? The data for this test, Gender Stereotypes in 5-7 year old Children, was found in the R openintro package. It reports the results of an experimental study conducted in 2017 by Lin Bian that tested whether some children were more likely to choose someone of their own gender when asked to identify a “smart” or “nice” individual in an image. The stereotype variable gives the proportion of trials where each child chose a gender target that matched their own gender. Focusing specifically on trials where the children were shown images of adults and asked to point out the person who appeared to be smart, I will test for a difference in this variable between the male and female genders. Below, I show a bar plot of the differences in stereotype proportion between male and female children.\n\ngender_stereo &lt;- children_gender_stereo[[\"2\"]] |&gt;\n  filter(trait == \"smart\", target == \"adults\")\n\nhead(gender_stereo)\n\n  subject gender age trait target stereotype high_achieve_caution\n1       1   male   6 smart adults       0.75                 0.25\n2       2   male   5 smart adults       1.00                 1.00\n3       3   male   7 smart adults       0.25                 0.25\n4       4 female   5 smart adults       1.00                 1.00\n5       5   male   5 smart adults       0.25                 0.75\n6       6   male   7 smart adults       0.75                 0.50\n\nprop_data &lt;- gender_stereo |&gt;\n  mutate(stereotype = factor(stereotype))\n\nggplot(prop_data, aes(x = gender, fill = stereotype)) +\n  geom_bar() +\n  labs(\n    title = \"Stereotype proportion by gender for 'smart adult' selections\"\n  )\n\n\n\n\n\n\n\n\nBased on this plot, we can see a clear difference between male and female stereotype proportions resulting from this study. In particular, the male bar shows a much larger count for an observed stereotype of 1, and the female bar shows a much larger count for an observed stereotype of 0.25. This means that 5-7 year old male children in the study were overall much more likely to choose male adults to be smart than female children were to choose female adults to be smart. The code chunk below shows that the difference in mean stereotype proportion between male and female children is in fact 0.0972.\n\n# wrangle data fo get difference in means between male/female\nstereo_obs &lt;- gender_stereo |&gt;\n  filter(trait == \"smart\", target == \"adults\") |&gt;\n  group_by(gender) |&gt;\n  summarize(mean_stereotype = mean(stereotype)) |&gt;\n  summarize(difference = diff(mean_stereotype)) |&gt;\n  pull(difference)\n\nstereo_obs\n\n[1] 0.09722222\n\n\nNext, I shuffle the data and create a null sampling distribution, in order to determine whether this dataset contains statistically significant evidence of a stereotype difference.\n\n# function to produce one permuted experiment under the null hypothesis\npermute_stereo &lt;- function(rep, data) {\n  data |&gt;\n    select(gender, stereotype) |&gt;\n    mutate(stereo_perm = sample(stereotype, replace = FALSE)) |&gt;\n    group_by(gender) |&gt;\n    summarize(obs_avg = mean(stereotype), perm_avg = mean(stereo_perm)) |&gt;\n    summarize(obs_avg_diff = diff(obs_avg), perm_avg_diff = diff(perm_avg))\n}\n\n# simulate many experiments\nset.seed(47)\nnum_exper &lt;- 5000\nnull_dist &lt;- map(1:num_exper, permute_stereo, data = gender_stereo) |&gt;\n  list_rbind()\n\n\n# visualize null sampling distribution with p-value\nnull_dist |&gt;\n  ggplot(aes(x = perm_avg_diff)) +\n  geom_histogram() +\n  geom_vline(aes(xintercept = obs_avg_diff), color = \"red\") +\n  theme_bw() +\n  labs(\n    title = \"Sampling Distribution when Ho is True\",\n    subtitle = \"aka no difference between gender picks\",\n    x = \"mean difference in proportion of stereotype by gender\"\n  )\n\n\n\n\n\n\n\n# calculating the p-value\nnull_dist |&gt; \n  summarize(p_value = mean(perm_avg_diff &gt; obs_avg_diff))\n\n# A tibble: 1 × 1\n  p_value\n    &lt;dbl&gt;\n1  0.0302\n\n\nThis plot displays a histogram of sample difference in means calculated under the assumption that there is no inherent difference between how often a male or female will pick their own gender to be smarter. The red line represents the observed mean difference stereotype proportion between the male and female genders from the data, 0.0972. The histogram allows for visualization of the above calculated p-value of 0.0302, meaning that only 3.02% of the 5000 samples had a difference in means (male - female) greater than 0.0972.\nProcess\nI began this test with the null hypothesis, Ho, that the difference between male and female stereotype was 0, and the alternative hypothesis, Ha, that the difference between male and female stereotype was greater than 0:\nHo: μmale - μfemale = 0, Ha: μmale - μfemale &gt; 0\nI wrangled my dataset to find the mean stereotype proportion for all females and all males in the study, and ultimately the difference in these means (0.0972). Then, I created a null sampling distribution under the assumption of the null hypothesis by shuffling the experimental data 5000 times to randomize the pairing between gender and stereotype proportions, and finding the difference in male and female means for each experiment. I used this distribution to calculate a p-value by finding the percent of experiments where the difference means (male - female) was greater than the observed difference in means from the dataset.\nResults\nI found a p-value of 0.0302, which is low enough to reject the null hypothesis. Thus, this dataset shows statistically significant evidence that 5-7 year old males are more likely to select adults of their own gender to be smart than 5-7 year old females are.\nData Source\nBian L, Leslie SJ, Cimpian A. 2017. “Gender stereotypes about intellectual ability emerge early and influence children’s interests”. Science 355:6323 (389-391). https://www.science.org/doi/10.1126/science.aah6524."
  },
  {
    "objectID": "textanalysis.html",
    "href": "textanalysis.html",
    "title": "NYT Headline Analysis",
    "section": "",
    "text": "For this project, I will look at data on New York Times headlines from the RTextTools package. This dataset was originally compiled by Professor Amber E. Boydstun at the University of California, Davis. It contains labeled headlines from New York Times articles between 1996 and 2006, including the date, title, and subject. The original information on this dataset can be found at http://www.amber-boydstun.com/supplementary-information-for-making-the-news.html.\nAn example of the data is shown below:\n\n\n  Article_ID     Date\n1      41246 1-Jan-96\n2      41257 2-Jan-96\n3      41268 3-Jan-96\n4      41279 4-Jan-96\n5      41290 5-Jan-96\n6      41302 7-Jan-96\n                                                                                    Title\n1                           Nation's Smaller Jails Struggle To Cope With Surge in Inmates\n2                                         FEDERAL IMPASSE SADDLING STATES WITH INDECISION\n3                     Long, Costly Prelude Does Little To Alter Plot of Presidential Race\n4                            Top Leader of the Bosnian Serbs Now Under Attack From Within\n5 BATTLE OVER THE BUDGET: THE OVERVIEW; LEADERS IN HOUSE DROP G.O.P. PLAN ON U.S. WORKERS\n6                                         South African Democracy Stumbles on Old Rivalry\n                                                                                     Subject\n1                                                  Jails overwhelmed with hardened criminals\n2                                                    Federal budget impasse affect on states\n3                                                 Contenders for 1996 Presedential elections\n4                                                 Bosnian Serb leader criticized from within\n5 Battle over budget: Republican leaders abandon strategy of using closed Government offices\n6                                                         political violence in south africa\n  Topic.Code\n1         12\n2         20\n3         20\n4         19\n5          1\n6         19\n\n\nScanning the headline subjects, I noticed a large number of headlines about both Bill Clinton and George W. Bush, so I decided to examine which president was mentioned in more NYT Headlines during their respective presidential terms (Clinton 1997-2000 / Bush 2001-2004). To do this, I used regular expressions and string functions to wrangle the data into useful information that could be plotted.\n\nNYTimes &lt;- NYTimes |&gt;\n \n  # Create a column for year using the date\n  mutate(Year_str = str_extract(Date, \"\\\\D-\\\\d\\\\d\")) |&gt;\n  mutate(Year = str_sub(Year_str, 3, 4))\n\n# Headlines with \"Clinton\" between 1997 and 2000  \nClinton_Headlines &lt;- NYTimes |&gt;\n  filter(Year &gt;= 97 | Year == \"00\") |&gt;\n  filter(str_detect(Title, \"Clinton\")) |&gt;\n  select(Date, Year, Title) |&gt;\n  mutate(President = \"Clinton\")\n\n# Headlines with \"Bush\" between 2001 and 2004\nBush_Headlines &lt;- NYTimes |&gt;\n  filter(Year &lt;= 04, Year != \"00\", Year != \"05\", Year != \"06\") |&gt;\n  filter(str_detect(Title, \"Bush\")) |&gt;\n  select(Date, Year, Title) |&gt;\n  mutate(President = \"Bush\")\n\n# Join these two together to plot\nBoth_Headlines &lt;- full_join(Clinton_Headlines, Bush_Headlines) |&gt;\n  group_by(President, Year) |&gt;\n  summarize(num_headlines = n())\n\n# bar chart\nggplot(Both_Headlines, aes(x = fct_rev(President), \n                           y = num_headlines, \n                           fill = fct_relevel(Year, \n                                              c(\"97\", \"98\",\"99\", \"00\", \"01\", \"02\", \"03\", \"04\")))) + \n  geom_col() + \n  scale_x_discrete(labels=c('Clinton (1997-2000)', 'Bush (2001-2004)')) + \n  labs(\n    title = \"Clinton v Bush: Which President Had More Headlines During Their Term?\",\n    x = \"President\",\n    y = \"Number of Mentions in NYT Headlines During Term\",\n    fill = \"Year\"\n  ) + \n  theme_classic()\n\n\n\n\n\n\n\n\nThis plot shows the number of New York Times headlines that each president was mentioned in during their consecutive terms (Bill Clinton 1997-2000 and George W. Bush 2001-2004) by year. Based on the plot, there is clearly a large difference in both the total number of headlines for each president, where Bush had a total of 65 headline mentions between 2001 and 2004 and Clinton only had 20. There does not seem to be a consistent pattern of increase or decrease of headlines by year during a presidential term. Notably, Bush had a huge surge of headlines in 2001 which is likely due to the influx of New York Times articles around the crisis of 9/11. I decided to look at whether there was also a large difference in the total number of New York Times articles in this data set between 1997-2000 and 2001-2004 that might confound these results.\n\nNYTimes |&gt;\n  group_by(Year) |&gt;\n  summarize(count = n())\n\n# A tibble: 11 × 2\n   Year  count\n   &lt;chr&gt; &lt;int&gt;\n 1 00      292\n 2 01      295\n 3 02      305\n 4 03      294\n 5 04      260\n 6 05      237\n 7 06      248\n 8 96      295\n 9 97      290\n10 98      296\n11 99      292\n\n\nWe can see from this table that the total number of article headlines from 1997-2000 was 1170, and the total number of headlines from 2001-2004 was 1154. Thus, the total article count is not the reason behind the difference in headline count per president.\nAnother question of interest was whether the typical number of words per headline varied by month, and if this relationship changed depending on whether the headline contained punctuation.\n\nNYTimesWM &lt;- NYTimes |&gt;\n  # extract month from date as new variable\n  mutate(Month = str_extract(Date, \"(?&lt;=-).+(?=-)\")) |&gt;\n  mutate(word_list = str_split(Title, \" \")) |&gt;\n  mutate(num_words = lengths(word_list)) |&gt;\n  # variable for whether headline contains punctuation\n  mutate(Punctuation = grepl(\"[[:punct:]]\", Title))\n\n\n# boxplot  \nggplot(NYTimesWM, aes(x = fct_relevel(Month, c('Jan', 'Feb', 'Mar',\n                                               'Apr', 'May', 'Jun',\n                                               'Jul', 'Aug', 'Sep',\n                                               'Oct', 'Nov', 'Dec')), \n                      y = num_words, color = Punctuation)) + \n  geom_boxplot() + \n  labs(\n    title = \"Length of New York Times Headlines by Month \n    With and Without Punctuation Between 1996 and 2006\",\n    x = \"Month\",\n    y = \"Number of Words Per Headline\"\n  )\n\n\n\n\n\n\n\n\nThis plot shows the distributions of the number of words per headline for each month for headlines with and without punctuation. By month, the distributions do not show a clear trend, but the ranges for February and November with punctuation appear to be the largest overall excluding outliers, while May has both the longest headline (largest outlier) and one of the shortest, at one word. However, looking at the comparison between headlines with punctuation and headlines without punctuation, the ranges for headlines with punctuation show higher word counts for every single month, and there are also far more outliers on the high end for this category. In fact, the upper quartile for headlines with punctuation is a larger number of words for every month except August, which is even with no punctuation. These results are understandable considering that longer sentences are more likely to need punctuation in order to have proper grammar. The months with the largest difference between punctuation and no punctuation in median number of words per headline are September and November."
  },
  {
    "objectID": "visualization2.html",
    "href": "visualization2.html",
    "title": "Global Cheeses",
    "section": "",
    "text": "In this project, I will use data from the June 2024 “Cheese” folder from the TidyTuesday github repository. This data was originally scraped from https://www.cheese.com/, which contains information on 2,041 specialty cheeses from over 74 countries across the world. The dataset contains many cheeses, along with the animal and region they come from, and information about the color, texture, rind type, flavor, and aroma of the cheese.\nI have looked specifically into rind type and color, in order to explore which rind types are most common, and how this relates to the color of the cheese, using visualizations.\nAn example of the data can be seen below.\n\n\n# A tibble: 6 × 8\n  cheese             milk  country     rind    color       flavor  texture aroma\n  &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;\n1 Aarewasser         cow   Switzerland washed  yellow      sweet   buttery butt…\n2 Abbaye de Belloc   sheep France      natural yellow      burnt … creamy… lano…\n3 Abbaye de Belval   cow   France      washed  ivory       &lt;NA&gt;    elastic arom…\n4 Abbaye de Citeaux  cow   France      washed  white       acidic… creamy… barn…\n5 Abbaye de Tamié    cow   France      washed  white       fruity… creamy… perf…\n6 Abbaye de Timadeuc cow   France      washed  pale yellow salty,… soft    nutty\n\n\n\ncheeses |&gt;\n  na.omit() |&gt;\n  ggplot(aes(x = rind, color = color)) + \n  geom_bar() + \n  labs(\n    title = \"Cheese Rind Count by Color\",\n    x = \"Rind Type\",\n    y = \"Count\"\n  ) + \n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\nAnalysis:\nFrom this plot, we can clearly see that a “natural” rind is by far the most common rind type among cheeses in this dataset. Artifical, edible, and plastic rinds seem to be much less common. For most of the rind types, it appears that white and yellow are the most prominent colors of cheese. However, pale yellow is the most common among natural rinds and thus also very common overall. There are very few blue-grey or brown colored cheeses. I used “color” instead of “fill” to differentiate between colors because the large amount of different colors made it very difficult to see the difference between colors without sharp lines in between.\nSince it is difficult to get a lot of information from this plot, I thought it might be interesting to look at how cheese colors vary across countries of origin. There ended up being too many countries to display on a single plot, so I selected the five countries with the most cheeses: Australia, Canada, France, Italy, and the US.\n\ncheeses |&gt;\n  na.omit() |&gt;\n  filter(country %in% c(\"Australia\", \"Canada\", \"France\", \"Italy\", \"United States\")) |&gt;\n  ggplot(aes(x = country, color = color)) +\n  geom_bar() + \n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\nAnalysis:\nThis plot more clearly shows a variation in cheese color depending on the country. The chart shows a much higher total count United States cheeses, of over 200 cheeses. The others have between 25 and 100 types of cheese. Australia, France, and Italy most commonly have white cheeses, while the United States has more pale yellow cheeses. Canada displays relatively equal numbers of white, pale yellow, golden yellow, and cream cheeses. The high proportion of US pale yellow cheeses, as well as the high cheese count led me to wonder if the United States cheeses make up most of the natural rind cheeses shown in the first plot. The tables below show the most common rind types among US cheeses, and the countries with the most natural-rinded cheeses, respectively.\n\ncheeses |&gt;\n  filter(country == \"United States\", !is.na(rind)) |&gt;\n  group_by(rind) |&gt;\n  summarize(rind_num = n()) |&gt;\n  arrange(desc(rind_num)) |&gt;\n  head()\n\n# A tibble: 6 × 2\n  rind         rind_num\n  &lt;chr&gt;           &lt;int&gt;\n1 natural           124\n2 rindless           44\n3 bloomy             32\n4 mold ripened       21\n5 washed             21\n6 ash coated          7\n\ncheeses |&gt;\n  filter(rind == \"natural\") |&gt;\n  group_by(country) |&gt;\n  summarize(natural_num = n()) |&gt;\n  arrange(desc(natural_num)) |&gt;\n  head()\n\n# A tibble: 6 × 2\n  country                                natural_num\n  &lt;chr&gt;                                        &lt;int&gt;\n1 United States                                  124\n2 Italy                                           83\n3 France                                          51\n4 Ireland                                         14\n5 Austria                                         13\n6 England, Great Britain, United Kingdom          12\n\n\nFrom the above, we can in fact see that natural rinds make up for 124 of the 305 United States cheese types, and that the United States contains by far the highest number of cheeses with natural rinds.\nLink to Data: https://github.com/rfordatascience/tidytuesday/tree/master/data/2024/2024-06-04"
  },
  {
    "objectID": "sqldata.html",
    "href": "sqldata.html",
    "title": "Auditory Absorbance",
    "section": "",
    "text": "My goal for this analysis is to explore large amounts of wideband acoustic immitance auditory data using SQL. To accomplish this, I will query the WAI Database and build a dataset that can be used to recreate the Mean Absorbance vs. Frequency figure from Voss’s 2020 article on wideband acoustic immitance. I will use three tables from the database: Measurements - a table containing WAI measurements for each subject and session from several different studies, PI_Info - a table holding logistic details about each study, and Subjects - a table with demographic and other information about each subject across all studies. Using SQL, I will join parts of these tables to compile information from 12 different studies, and plot the mean absorption vs frequency results for each, as in Figure 1 (Voss 2020). Then, I will inspect the 2023 WAI study by Sun et al., and use a similar process to plot and determine discrepancies in mean absorbance by age.\n\nlibrary(tidyverse)\nlibrary(RMariaDB)\ncon_wai &lt;- dbConnect(\n  MariaDB(), host = \"scidb.smith.edu\",\n  user = \"waiuser\", password = \"smith_waiDB\", \n  dbname = \"wai\"\n)\n\nMeasurements &lt;- tbl(con_wai, \"Measurements\")\nPI_Info &lt;- tbl(con_wai, \"PI_Info\")\nSubjects &lt;- tbl(con_wai, \"Subjects\")\n\n\n-- Join SQL tables into one data frame with info needed for plot\nSELECT Measurements.Identifier,\n        AVG(Absorbance) AS Mean_Absorbance,\n        Frequency,\n        CONCAT(AuthorsShortList, \" (\", Year, \") \", \" N= \", \n                COUNT(DISTINCT SubjectNumber, Ear),\n                \" ; \", Instrument) AS Label\nFROM Measurements\nJOIN PI_Info ON Measurements.Identifier = PI_Info.Identifier\nWHERE (Measurements.Identifier = \"Abur_2014\" OR\n      Measurements.Identifier = \"Feeney_2017\" OR\n      Measurements.Identifier = \"Groon_2015\" OR\n      Measurements.Identifier = \"Lewis_2015\" OR\n      Measurements.Identifier = \"Liu_2008\" OR\n      Measurements.Identifier = \"Rosowski_2012\" OR\n      Measurements.Identifier = \"Shahnaz_2006\" OR\n      Measurements.Identifier = \"Shaver_2013\" OR\n      Measurements.Identifier = \"Sun_2016\" OR\n      Measurements.Identifier = \"Voss_1994\" OR\n      Measurements.Identifier = \"Voss_2010\" OR\n      Measurements.Identifier = \"Werner_2010\") AND\n      Measurements.Frequency &gt; 200 AND Measurements.Frequency &lt; 8000\nGROUP BY Measurements.Identifier, Frequency, Instrument;\n\n\nhead(ears)\n\n  Identifier Mean_Absorbance Frequency                              Label\n1  Abur_2014      0.07847459   210.938 Abur et al. (2014)  N= 14 ; HearID\n2  Abur_2014      0.08264199   234.375 Abur et al. (2014)  N= 14 ; HearID\n3  Abur_2014      0.09484823   257.812 Abur et al. (2014)  N= 14 ; HearID\n4  Abur_2014      0.10314722   281.250 Abur et al. (2014)  N= 14 ; HearID\n5  Abur_2014      0.11375764   304.688 Abur et al. (2014)  N= 14 ; HearID\n6  Abur_2014      0.12212053   328.125 Abur et al. (2014)  N= 14 ; HearID\n\n\nThis table displays the mean measured absorbance for ears at each frequency, separated by study, using information from the Measurements and PI_Info tables. It also contains information to go in the legend of the plot, including the instrument used, number of ears, year, and authors for each study.\nPlotting The Data\n\nlibrary(scales)\n\nears |&gt;\n  ggplot(aes(x = Frequency, y = Mean_Absorbance, color = Label)) +\n  geom_line() +\n  xlim(200, 8000) +\n  ylim(0, 1) +\n  labs(\n    title = \"Mean absorbance from each publication in WAI database\",\n    x = \"Frequency(Hz)\",\n    y = \"Mean Absorbance\",\n    color = NULL\n  ) +\n  # proper x and y scales\n  scale_x_log10(\n    limits = c(200, 8000),\n    breaks = c(200, 400, 600, 800, 1000, 2000, 4000, 6000, 8000)\n  ) +\n  scale_y_continuous(\n    limits = c(0, 1),\n    breaks = seq(0, 1, 0.2)\n  ) +\n  theme_bw() +\n  \n  theme(\n    plot.background = element_rect(\n      fill = \"grey90\", \n      color = \"grey90\", \n      size = 30),\n    legend.position = c(0.01, 0.99),\n    legend.justification = c(0, 1),\n    legend.background = element_rect(\n      color = \"black\",\n      size = 0.3,\n      fill = \"white\"\n    ),\n    legend.text = element_text(size = 7),\n    legend.key.height = unit(0.15, \"mm\"),\n    legend.key = element_rect(size = 0.1),\n    legend.key.size = unit(1, \"cm\"),\n    aspect.ratio = 0.8,\n    text = element_text(face = \"bold\"),\n    plot.title = element_text(hjust = 0.5),\n    plot.margin = margin(12, 12, 12, 12)\n  )\n\n\n\n\n\n\n\n\nThe above graph displays the mean percent absorbance per frequency (in hertz), from each study’s findings, separated by color. Each line appears to follow a similar trend, with low absorbances at low frequencies, increasing to a maximum absorbancy between 2000 and 4000 hz, before dropping back down to low absorbance levels at higher frequencies. Notably, in my plot the Feeney et al. study has much lower absorbances between 1000 and 3000 hz frequencies than all of the other observed studies. This contrast does not appear in Voss’ version of the plot.\nPart 2: Examining Sun’s 2023 Study for Absorption Differences by Age\n\nSELECT *\nFROM Subjects\nWHERE Identifier = \"Sun_2023\"\nLIMIT 3500, 10;\n\n\nDisplaying records 1 - 10\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIdentifier\nSubjectNumber\nSessionTotal\nAgeFirstMeasurement\nAgeCategoryFirstMeasurement\nSex\nRace\nEthnicity\nLeftEarStatusFirstMeasurement\nRightEarStatusFirstMeasurement\nSubjectNotes\n\n\n\n\nSun_2023\n124137\n1\n12\nChild\nFemale\nOther\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124139\n1\n16\nChild\nFemale\nCaucasian\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124140\n1\n17\nChild\nFemale\nCaucasian\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124141\n1\n17\nChild\nMale\nBlack\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124150\n1\n14\nChild\nFemale\nBlack\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124154\n1\n16\nChild\nMale\nBlack\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124155\n1\n9\nChild\nMale\nCaucasian\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124162\n1\n9\nChild\nFemale\nOther\nHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124166\n1\n8\nChild\nFemale\nCaucasian\nNonHispanic\nNormal\nNormal\nNA\n\n\nSun_2023\n124196\n1\n75\nAdult\nFemale\nOther\nNonHispanic\nNormal\nNormal\nNA\n\n\n\n\n\nShown above is an example of 10 rows of data from Sun’s study, taken from the Subjects table.\n\nSELECT Measurements.Identifier,\n        AVG(Absorbance) AS Mean_Absorbance,\n        Frequency,\n        CONCAT(AuthorsShortList, \" (\", Year, \") \", \" N= \", \n              COUNT(DISTINCT Measurements.SubjectNumber, Ear), \n              \" ; \", Instrument) AS Label,\n        FLOOR(Age / 10) AS Age_Group -- group ages into nine different age groups\n        \nFROM Measurements\nJOIN PI_Info ON Measurements.Identifier = PI_Info.Identifier \nJOIN Subjects ON Subjects.SubjectNumber = Measurements.SubjectNumber\nWHERE Measurements.Identifier = \"Sun_2023\" AND\n      Measurements.Frequency &gt; 200 AND Measurements.Frequency &lt; 8000\nGROUP BY Age_Group, Frequency, Instrument;\n\n\nhead(demo_ears)\n\n  Identifier Mean_Absorbance Frequency                             Label\n1   Sun_2023       0.1082925  226.0000 Sun et al. (2023)  N= 574 ; Titan\n2   Sun_2023       0.1375110  257.3256 Sun et al. (2023)  N= 574 ; Titan\n3   Sun_2023       0.1543347  280.6155 Sun et al. (2023)  N= 574 ; Titan\n4   Sun_2023       0.1516369  297.3018 Sun et al. (2023)  N= 574 ; Titan\n5   Sun_2023       0.1489815  324.2099 Sun et al. (2023)  N= 574 ; Titan\n6   Sun_2023       0.1644526  343.4884 Sun et al. (2023)  N= 574 ; Titan\n  Age_Group\n1         0\n2         0\n3         0\n4         0\n5         0\n6         0\n\n\nThis table shows the mean measured absorbance for ears at each frequency, grouped by the age range of the subject (age group is the subject’s age, divided by 10).\n\ndemo_ears &lt;- demo_ears |&gt; \n  # create age group labels\n  mutate(Age_Label = case_when(\n    Age_Group == 0 ~ \"0-9 years\",\n    Age_Group == 1 ~ \"10-19 years\",\n    Age_Group == 2 ~ \"20-29 years\",\n    Age_Group == 3 ~ \"30-39 years\",\n    Age_Group == 4 ~ \"40-49 years\",\n    Age_Group == 5 ~ \"50-59 years\",\n    Age_Group == 6 ~ \"60-69 years\",\n    Age_Group == 7 ~ \"70-79 years\",\n    Age_Group == 8 ~ \"80-89 years\"\n  ))\n\ndemo_ears |&gt;\n  ggplot(aes(x = Frequency, y = Mean_Absorbance, color = Age_Label)) +\n  geom_line() +\n  xlim(200, 8000) +\n  ylim(0, 1) +\n  labs(\n    title = \"Mean absorbance by age group in WAI database Sun et al. 2023 study\",\n    x = \"Frequency(Hz)\",\n    y = \"Mean Absorbance\",\n    color = NULL\n  ) +\n  scale_x_log10(\n    limits = c(200, 8000),\n    breaks = c(200, 400, 600, 800, 1000, 2000, 4000, 6000, 8000)\n  ) +\n  scale_y_continuous(\n    limits = c(0, 1),\n    breaks = seq(0, 1, 0.2)\n  ) +\n  theme_bw() +\n  theme(\n    plot.background = element_rect(\n      fill = \"grey90\", \n      color = \"grey90\", \n      size = 30),\n    legend.position = c(0.01, 0.99),\n    legend.justification = c(0, 1),\n    legend.background = element_rect(\n      color = \"black\",\n      size = 0.3,\n      fill = \"white\"\n    ),\n    legend.text = element_text(size = 7),\n    legend.key.height = unit(0.15, \"mm\"),\n    legend.key = element_rect(size = 0.1),\n    legend.key.size = unit(1, \"cm\"),\n    aspect.ratio = 0.8,\n    text = element_text(face = \"bold\"),\n    plot.title = element_text(hjust = 0.5),\n    plot.margin = margin(30, 70, 30, 40)\n  )\n\n\n\n\n\n\n\n\nThis plot is similar to the first but focused in on the Sun study exclusively, with mean absorbance levels colored by age group. Accordingly, we can see the trend of absorbance increasing with frequency until about 1000 hz. Sun’s study evens out a bit more with maxes somewhat spread out between 1000 and 4000hz and then dropping back down at higher frequencies. According to this plot, the only age group that clearly breaks this trend is the oldest group, 80-89-year-old ears with generally much lower absorbances and a max right near 4000hz. This might be insignificant due to the fact that only three ears of ages 80-89 were included in this study. Interestingly, the 70-79 year age group does not show any of this decline, and in fact holds some of the highest mean absorbances across frequencies.\nProcess/Discussion\nAfter gathering data, I began by selecting the studies I wanted to work with, and finding variables I needed to include across tables. All of the label and measurement information for the first plot was contained between the PI_Info and Measurements tables, so I joined selected variables from these and grouped by study and frequency in order to obtain a summarized mean absorbance across each frequency per study to plot. I was then able to recreate Voss’ s figure using ggplot. There were some limitations to this, as some of the numbers in the data were slightly different from what was shown in Voss’s plot. For instance, the number of ears in Werner’s 2010 study was listed as N=267 in her plot, where my plot used 962 ears.\nAfter duplicating this plot as closely as possible, I used similar data wrangling to obtain a table and plot of mean absorbance data by age from the study by Sun et al., 2023. I chose to group age by 10 years to simplify and increase readability. I modeled the plot similarly to Voss’s Figure 1, and it showed a sizable difference in shape and height of the curve for mean absorbances of 80-89 year old ears.\nSources\nVoss SE. Resource Review. Ear Hear. 2019 Nov/Dec;40(6):1481. doi: 10.1097/AUD.0000000000000790. PMID: 31651606; PMCID: PMC7093226.\ndoi.org/10.35482/egr.001.2022\nSun J, Horton NJ, Voss SE. Absorbance Measurements From Normal-hearing Ears in the National Health and Nutrition Examination Survey, 2015-2016 and 2017-2020. Ear Hear. 2023 Sep-Oct 01;44(5):1282-1288. doi: 10.1097/AUD.0000000000001358. Epub 2023 Mar 30. PMID: 36991532; PMCID: PMC10440228."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Maren Rusk",
    "section": "",
    "text": "Hi! My name is Maren, and I’m a student at Pomona College, class of 2027. I am studying mathematics and data science with an interest in politics. Outside of school, I swim for the Pomona-Pitzer swim team and play the piano."
  }
]